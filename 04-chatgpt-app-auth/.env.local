# ==== Resource Server (Next.js) ====
# Public base URL of your Next app (what ChatGPT/Jam can reach).
NEXT_PUBLIC_BASE_URL=https://codegym.ngrok.app

# OAuth issuer base URL (Auth Server)
AUTH_ISSUER=https://codegym-auth.ngrok.app

# Canonical MCP resource identifier (MUST match RS metadata resource AND JWT aud AND OAuth `resource` param)
MCP_RESOURCE=https://codegym.ngrok.app/mcp

# Shared HS256 secret (DEMO ONLY; use a strong secret in production)
# Example (Linux/macOS): openssl rand -hex 32
JWT_SECRET=dev_only_change_me



# ==== Auth Server ====
# Internal listening port (ngrok just forwards to it)
AUTH_PORT=4000
ACCESS_TOKEN_TTL_SEC=600
AUTH_CODE_TTL_SEC=600

# Comma-separated allowlist; MUST include ChatGPT redirect
OAUTH_ALLOWED_REDIRECT_URIS=https://chatgpt.com/connector_platform_oauth_redirect,http://127.0.0.1:6274/oauth/callback/debug

# Allow "client_id as metadata URL" for these hostnames (MCP Jam uses www.mcpjam.com)
OAUTH_ALLOWED_CLIENT_METADATA_HOSTS=www.mcpjam.com,mcpjam.com